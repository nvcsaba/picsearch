function o(n){let t=document.createElement("div");t.classList.add("col-sm-3","imagediv"),t.setAttribute("id",`P${n}`);$("#results")[0].appendChild(t);let o=new Image;o.src="img/loading2.gif",o.alt="loading",o.id=n,t.appendChild(o);let e=document.createElement("span");e.setAttribute("id",`B${n}`),e.innerHTML=`${n}`,t.appendChild(e),12<=n.length?(e.innerHTML=`<svg class='barcode' id='S${n}' ></svg>`,JsBarcode(`#S${n}`,n,{height:"14",displayValue:!0})):e.classList.add("barcode");new Promise(function(e,t){let o=new Image;o.onload=()=>{e(o)},o.onerror=e=>{t(n)},o.src=`http://d2ih8t31foccmk.cloudfront.net/${n}_M.jpg`,o.alt=n}).then(e=>{t.replaceChild(e,o)},e=>{console.log("first promise rejected now trying newsrc for "+e),new Promise(function(e,t){let o=new Image;o.onload=()=>{e(o)},o.onerror=e=>{t(n)},o.src=`https://www.theworks.co.uk/dw/image/v2/BDXF_PRD/on/demandware.static/-/Sites-master-catalog-tws-uk/default/dw00000000/${n}_Z.jpg?sw=400&sh=400&sm=fit`,o.alt=n}).then(e=>{console.log("newsrc loaded"),t.replaceChild(e,o)},e=>{console.log(e),o.src="img/noimage.png"})}).catch(e=>{console.log(e),o.src="img/noimage.png"})}function t(e){$("#results").html("");let t=$("#barcode").val();t=t.match(/[0-9]{8,13}/g),null!=t?t.map(o):$("#results").html('<div class="col-md-6 warning">Full barcode required</div>')}document.getElementById("barcode").oninput=function(e){t()},$("#barcode").bind("paste",e=>{setTimeout(t,100)}),$(window).scroll(function(e){100<$(this).scrollTop()?$(".gotop").fadeIn():$(".gotop").fadeOut()}),$(".gotop").click(function(){$("html").animate({scrollTop:0},"slow")});